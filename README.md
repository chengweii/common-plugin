# 通用组件
## 【distributed-lock】分布式锁组件（已完成）
基于 redis setNx 实现，通过命令、注解方式使用分布式锁。
## 【distributed-tcc】分布式补偿事务(TCC)组件（开发中）
基于 数据库+定时任务+线程池 实现的准实时分布式补偿事务，通过定时任务轮询加载轮询周期内的待补偿事务，然后按照自定义的重试策略执行补偿动作。
## 【multilevel-cache】多级缓存组件（待开发）
基于 Redis 实现的分布式多级缓存，支持各级缓存的级联更新，解决二级数据依赖一级数据导致无法实时缓存的问题。

> 实现方案：  
1.用户自定义维护缓存KEY及各缓存KEY之间的关系；  
2.获取数据时首先到缓存KEY列表检查KEY是否存在，然后检查缓存是否存在，不存在则从数据库拉取数据，拉取时根据KEY做分布式锁，避免重复拉取。  
3.拉取到数据则缓存起来，同时维护缓存KEY到缓存KEY列表，然后直接返回用户。  
4.缓存存在则根据缓存KEY关系模糊匹配所有依赖的缓存是否失效，有效则直接返回，无效则重新从数据库拉取数据。
5.依托定时任务更新将要到期的缓存，避免透库。

## 【flow-filter】流量过滤组件（待开发）
基于 MQ和线程池 实现无效流量的过滤和有效流量的削峰处理，避免无效流量直接进入浪费服务端资源，平滑流量的处理周期。例如：竞拍最后一秒出价行为；秒杀库存不足时的无效请求行为；其他高峰流量请求的异步化处理。

